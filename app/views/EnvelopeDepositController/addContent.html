#{extends 'main.html' /}
#{set title:'Contenido del sobre' /}
%{  def action = request.action
def url = actionBridge."$action".call() 
}%
<section id="depositar_sobre_03">
    <header></header>
    <a href="@{ EnvelopeDepositController.getEnvelopeContents() }" class="boton_top">â—„ &{ 'application.back' }</a>
    <!-- /link volver -->
    <article>
        <h1 class="depositar_sobre">&{ 'main_menu.envelope_deposit' }</h1>
        <div class="contenido">
            <ul class="columns">
                <li class="fixed column" style="width: 60%">
                    #{form url, 'id' : 'mainForm' }
                    #{ifErrors}
                    <p class="error">
                        All fields are required!
                    </p>
                    #{/ifErrors}
                    <div class="columna_1">
                        #{doLayout /}
                    </div>
                    <input type="hidden" name="formData?.reference1" value="${formData?.reference1}"/>
                    <input type="hidden" name="formData?.reference2" value="${formData?.reference2}"/>
                    <input type="hidden" name="formData.envelopeCode" value="${formData?.envelopeCode}"/>
                    <input type="hidden" name="formData.hasDocuments" value="${formData?.hasDocuments}"/>
                    <input type="hidden" name="formData.hasOther" value="${formData?.hasOther}"/>
                    <input type="hidden" name="formData.cashData" value="${formData?.cashData?.currencyId}"/>
                    <input type="hidden" name="formData.cashData" value="${formData?.cashData?.amount}"/>
                    <input type="hidden" name="formData.checkData" value="${formData?.checkData?.currencyId}"/>
                    <input type="hidden" name="formData.checkData" value="${formData?.checkData?.amount}"/>
                    <input type="hidden" name="formData.ticketData" value="${formData?.ticketData?.currencyId}"/>
                    <input type="hidden" name="formData.ticketData" value="${formData?.ticketData?.amount}"/>
                    <input type="hidden" name="formData.doDeposit" value="${formData?.doDeposit}"/>
                    #{/form}
                </li>
                <li class="fixed column" style="width: 40%">
                    <div id="keyboard_placeholder"></div>
                </li>
            </ul>
        </div>
        <div class="botonera">
            <ul class="columns">
                <li class="fixed column" style="width: 50%">
                    <!-- link cancelar -->
                    <a href="@{EnvelopeDepositController.cancelDeposit()}" class="boton rojo">&{ 'application.cancel' }</a>
                </li>
                <li class="fixed column" style="width: 50%">
                    <div class="columna_2">
                        <!-- link continuar -->
                        <a id ="continueButton" href="#" class="boton naranja">&{ 'application.continue' }</a>
                    </div>
                </li>
            </ul>
        </div>
    </article>
</section>

#{set 'moreScripts'}
<script type="text/javascript" charset="${_response_encoding}">

    $( '#continueButton' ).click( function(event) {
        $( '#mainForm').submit();
    });
</script>
#{/set}
